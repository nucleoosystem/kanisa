<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#kanisa-navbar-collapse"  aria-controls="kanisa-navbar-collaprse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="kanisa-navbar-collapse">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
    </ul>

    <ul class="navbar-nav">
      {% for element, children in KANISA_NAVIGATION %}
      {% if not element.require_login or user.is_authenticated %}
      {% include 'kanisa/_nav_element.html' %}
      {% endif %}
      {% endfor %}
    </ul>

    {% if user.is_authenticated %}
      {% include "kanisa/_header_logged_in.html" %}
    {% else %}
    <span class="navbar-text ml-auto">
      <a href="{% url 'kanisa_members_login' %}">Login</a>
      {% if KANISA_ALLOW_REGISTRATION %}
      /
      <a href="{% url 'kanisa_members_registration' %}">Register</a>
      {% endif %}
    </span>
    {% endif %}
  </div>
</nav>
